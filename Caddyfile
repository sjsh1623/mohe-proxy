{
    # Enable automatic HTTPS with self-signed certificates
    local_certs
}

# Main entry point - handles both HTTP and HTTPS
:80, :443 {
    # API backend
    handle /api/* {
        reverse_proxy spring:8080
    }

    # Web application (default)
    handle {
        reverse_proxy mohe-react-dev:3000
    }
}
